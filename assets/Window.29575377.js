import{_ as v,o as s,c as o,w as n,j as d,k as y,l as r,g as m,a as g,p as S,b as l,q as k,s as V,u,x as h,y as w,t as _,z as C,A as z,B as x,n as b,C as R,D as B}from"./index.0bd43ae6.js";const L={name:"WindowComponent",props:{modelValue:{type:Boolean,default:!1},scrollPos:Number,title:String,subtitle:String,icon:String,image:String,compact:Boolean,compact_footer:Boolean,closable:Boolean,minimizable:Boolean,titleClass:String,dark:Boolean,index:[Boolean,Number,String],size:String,imageSize:Number,color:String,slotLeftClass:String,slotRightClass:String,slotLeftStyle:[String,Object],slotRightStyle:[String,Object]},data:()=>({container_height:0}),computed:{visible:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},compact_screen:function(){return this.$vuetify.display.width<=600},compact_height:function(){return this.$vuetify.display.height<=600},w_width(){return this.compact_screen?"100%":this.size=="small"?"500px":this.size=="large"?"95%":"90%"},w_height(){return this.compact_screen||this.compact_height?"100%":this.size=="small"?"550px":"90%"}},watch:{visible(){this.listenerResize(this.visible)},index(){this.checkScroll(),this.windowResize()},scrollPos(e){const i=this.$refs.main_container;i&&i.scrollTo({top:e,behavior:"smooth"})}},methods:{close(){this.$emit("close")},minimize(){this.$emit("minimize")},scroll(){let e={};e.scroll_top=this.$refs.main_container.scrollTop,e.client_height=this.$refs.main_container.clientHeight,e.scroll_height=this.$refs.main_container.scrollHeight,e.scroll_bottom=e.scroll_height-e.scroll_top-e.client_height,this.$emit("scroll",e)},checkScroll(){if(this.$refs.main_container){const e=this.$refs.main_container,i=e.scrollHeight>e.clientHeight;this.$emit("hasScroll",i)}else this.$emit("hasScroll",!1)},windowResize(){var t,f;let e=(f=(t=this.$refs)==null?void 0:t.container)==null?void 0:f.$el;if(!e)return;let i={container_width:e.clientWidth,container_height:e.clientHeight};this.container_height=e.clientHeight,this.$emit("resize",i)},listenerResize(e){if(e&&this.visible)if(this.$refs.container)this.resizeObserver.observe(this.$refs.container.$el),window.addEventListener("resize",this.windowResize),this.windowResize();else{const i=this;setTimeout(function(){i.listenerResize(e),i.checkScroll()},10)}else this.resizeObserver.disconnect(),window.removeEventListener("resize",this.windowResize)}},mounted(){this.resizeObserver=new ResizeObserver(()=>{this.checkScroll()}),this.visible&&this.listenerResize(this.visible)}},$={class:"d-flex flex-no-wrap align-stretch flex-row justify-space-between"},N={key:0,class:"d-flex align-center",style:{"margin-left":"20px"}},H={class:"flex-grow-1 d-flex flex-column justify-center text-truncate"},O={class:"d-flex flex-row flex-nowrap align-start"};function T(e,i,t,f,j,a){return s(),o(B,{modelValue:a.visible,"onUpdate:modelValue":i[3]||(i[3]=c=>a.visible=c),scrollable:"",persistent:"",width:a.w_width,height:a.w_height,theme:t.dark?"dark":""},{default:n(()=>[d(y,{color:t.color?t.color:""},{default:n(()=>[r(e.$slots,"toolbar",{},()=>[m("div",$,[t.icon?(s(),g("div",N,[d(S,{icon:t.icon},null,8,["icon"])])):l("",!0),t.image&&e.$vuetify.display.width>500?(s(),o(k,{key:1,class:"ma-1",size:t.imageSize?t.imageSize:65,rounded:"0"},{default:n(()=>[d(V,{src:t.image},null,8,["src"])]),_:1},8,["size"])):l("",!0),m("div",H,[t.title?(s(),o(u,{key:0,class:h(["py-0 my-0",t.titleClass?t.titleClass:"text-h5 font-weight-light"])},{default:n(()=>[w(_(t.title),1)]),_:1},8,["class"])):l("",!0),t.subtitle?(s(),o(C,{key:1,class:"pb-1"},{default:n(()=>[w(_(t.subtitle),1)]),_:1})):l("",!0)]),m("div",O,[r(e.$slots,"system_buttons"),t.minimizable?(s(),o(z,{key:0,class:"ms-2",icon:"mdi-minus",variant:"text",size:"small",onClick:i[0]||(i[0]=c=>a.minimize())})):l("",!0),t.closable?(s(),o(z,{key:1,class:"ms-2",icon:"mdi-close",variant:"text",size:"small",onClick:i[1]||(i[1]=c=>a.close())})):l("",!0)])])]),e.$slots.header?(s(),o(u,{key:0},{default:n(()=>[r(e.$slots,"header")]),_:3})):l("",!0),d(x,{ref:"container",class:"d-flex align-stretch overflow-hidden pa-0 ma-0"},{default:n(()=>[e.$slots.left?(s(),g("div",{key:0,style:b(`height:${e.container_height}px;${t.slotLeftStyle};`),class:h(t.slotLeftClass)},[r(e.$slots,"left")],6)):l("",!0),m("div",{ref:"main_container",class:h(["flex-grow-1 overflow-auto",{"pa-5":!t.compact,"pa-0":t.compact,"ma-0":t.compact}]),onScroll:i[2]||(i[2]=(...c)=>a.scroll&&a.scroll(...c))},[r(e.$slots,"default")],34),e.$slots.right?(s(),g("div",{key:1,style:b(`height:${e.container_height}px;${t.slotRightStyle};`),class:h(t.slotRightClass)},[r(e.$slots,"right")],6)):l("",!0)]),_:3},512),e.$slots.footer?(s(),o(R,{key:1,class:h({"pa-0":t.compact_footer,"ma-0":t.compact_footer})},{default:n(()=>[r(e.$slots,"footer")]),_:3},8,["class"])):l("",!0)]),_:3},8,["color"])]),_:3},8,["modelValue","width","height","theme"])}const D=v(L,[["render",T]]);export{D as L};
