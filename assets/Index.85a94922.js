import{L as j,ai as H,Q as F,am as R,aP as q,a2 as O,U as Q,aY as W,j as u,E as P,_ as L,o as r,c as f,bo as Y,bq as $,bD as J,a as _,w as c,y as v,t as i,A as B,F as C,e as x,bv as K,bE as X,r as p,g as s,x as g,I as Z,b as k,aq as I}from"./index.0bd43ae6.js";import{L as ee}from"./Window.29575377.js";import{L as le,a as te}from"./InputSearch.67222a0d.js";import{V as ae}from"./VSwitch.42dd4b4b.js";import{m as se,V as A}from"./VCheckboxBtn.14a3f195.js";import{c as re,a as ue,d as G}from"./VInput.95ec174b.js";import{L as de}from"./VTable.d9109990.js";import{V as oe}from"./VAlert.dbb0530d.js";import"./VTextField.a62d9ad0.js";import"./VSelectionControl.407bfb1b.js";const ie=j({...re(),...H(se(),["inline"])},"VCheckbox"),ne=F()({name:"VCheckbox",inheritAttrs:!1,props:ie(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:o,slots:n}=t;const m=R(e,"modelValue"),{isFocused:l,focus:d,blur:b}=ue(e),V=q(),w=O(()=>e.id||`checkbox-${V}`);return Q(()=>{const[S,U]=W(o),a=G.filterProps(e),h=A.filterProps(e);return u(G,P({class:["v-checkbox",e.class]},S,a,{modelValue:m.value,"onUpdate:modelValue":y=>m.value=y,id:w.value,focused:l.value,style:e.style}),{...n,default:y=>{let{id:M,messagesId:z,isDisabled:D,isReadonly:N,isValid:T}=y;return u(A,P(h,{id:M.value,"aria-describedby":z.value,disabled:D.value,readonly:N.value},U,{error:T.value===!1,modelValue:m.value,"onUpdate:modelValue":E=>m.value=E,onFocus:d,onBlur:b}),n)}})}),{}}}),me={name:"CheckBoxComponent",props:{modelValue:Boolean,label:String,disabled:Boolean,switch:Boolean},computed:{input:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},is_switch(){return this.switch}}};function ce(e,t,o,n,m,l){return l.is_switch?(r(),f(ae,{key:0,modelValue:l.input,"onUpdate:modelValue":t[0]||(t[0]=d=>l.input=d),color:e.$theme.primary(),disabled:o.disabled,label:o.label,density:"compact","hide-details":""},null,8,["modelValue","color","disabled","label"])):(r(),f(ne,{key:1,modelValue:l.input,"onUpdate:modelValue":t[1]||(t[1]=d=>l.input=d),color:e.$theme.primary(),disabled:o.disabled,label:o.label,density:"compact","hide-details":""},null,8,["modelValue","color","disabled","label"]))}const he=L(me,[["render",ce]]),_e=F()({name:"VSlideGroupItem",props:Y(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:o}=t;const n=$(e,J);return()=>{var m;return(m=o.default)==null?void 0:m.call(o,{isSelected:n.isSelected.value,select:n.select,toggle:n.toggle,selectedClass:n.selectedClass.value})}}}),be={name:"LetterPaginationComponent",props:{modelValue:String},computed:{input:{get(){return this.letters.indexOf(this.modelValue)},set(e){var t;this.$emit("update:modelValue",(t=this.letters[e])!=null?t:"")}},letters(){return["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},methods:{reset(){this.input=-1}}},fe={class:"w-100 d-flex align-center"};function pe(e,t,o,n,m,l){return r(),_("div",fe,[u(B,{color:"primary",onClick:t[0]||(t[0]=d=>l.reset()),variant:l.input<0?"flat":"tonal",density:"compact",class:"me-1"},{default:c(()=>[v(i(e.$t("components.letterpagination.all")),1)]),_:1},8,["variant"]),u(K,{modelValue:l.input,"onUpdate:modelValue":t[1]||(t[1]=d=>l.input=d),"show-arrows":"","center-active":""},{default:c(()=>[(r(!0),_(C,null,x(l.letters,d=>(r(),f(_e,{key:d},{default:c(({isSelected:b,toggle:V})=>[u(B,{icon:"",color:"primary",onClick:V,variant:b?"flat":"tonal",density:"compact",class:"me-1"},{default:c(()=>[v(i(d),1)]),_:2},1032,["onClick","variant"])]),_:2},1024))),128))]),_:1},8,["modelValue"])])}const Ve=L(be,[["render",pe]]),ye={name:"MusicModule",components:{LWindow:ee,LTable:le,LSearch:te,LCheckbox:he,LMusicMenuTable:de,LLetterPaginate:Ve},data:()=>({search:"",data:[],scroll:{},has_scroll:!1,letter:""}),computed:{module_id(){return X.id},module(){return this.$modules.get(this.module_id)},disabled(){return!this.search_name&&!this.search_lyric&&!this.search_album},classform(){return{group:"d-flex flex-wrap",group_item:"flex-shrink-1 flex-grow-1 d-flex flex-wrap justify-space-around"}},search_name:{get(){return this.$userdata.get(`modules.${this.module_id}.search.name`)},set(e){this.$userdata.set(`modules.${this.module_id}.search.name`,e)}},search_lyric:{get(){return this.$userdata.get(`modules.${this.module_id}.search.lyric`)},set(e){this.$userdata.set(`modules.${this.module_id}.search.lyric`,e)}},search_album:{get(){return this.$userdata.get(`modules.${this.module_id}.search.album`)},set(e){this.$userdata.set(`modules.${this.module_id}.search.album`,e)}},filter_instrumental_music:{get(){return this.$userdata.get(`modules.${this.module_id}.filter.instrumental_music`)},set(e){this.$userdata.set(`modules.${this.module_id}.filter.instrumental_music`,e)}},compact:function(){return this.$vuetify.display.width<=800}},methods:{t(e){return this.$t(`modules.${this.module_id}.${e}`)},onScroll(e){this.scroll=e},hasScroll(e){this.has_scroll=e},openAlbum(e){this.$media.openAlbum(e)},close(){this.search=""}}},ve={class:"text-left"},ge={key:0,class:"text-left"},ke={class:"text-right"},Ce={key:0,class:"pb-1"},xe={key:0},we={class:"text-right"},Se={class:"d-flex justify-end"},Ue={class:"w-100"},Le={class:"text-right"};function Pe(e,t,o,n,m,l){const d=p("l-search"),b=p("l-checkbox"),V=p("l-music-menu-table"),w=p("l-table"),S=p("l-letter-paginate"),U=p("l-window");return r(),f(U,{modelValue:l.module.show,"onUpdate:modelValue":t[7]||(t[7]=a=>l.module.show=a),title:l.t("title"),icon:l.module.icon,closable:"",minimizable:"",compact:"",onClose:t[8]||(t[8]=a=>{l.close(),e.$modules.close(l.module_id)}),onMinimize:t[9]||(t[9]=a=>e.$modules.minimize(l.module_id)),onScroll:l.onScroll,onHasScroll:l.hasScroll,index:e.data.count},{header:c(()=>[s("div",{class:g(l.classform.group)},[s("div",{class:g(l.classform.group_item),style:{"flex-basis":"600px"}},[u(d,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=a=>e.search=a),label:l.t("inputs.search"),error:e.data.filter_count<=0,disabled:l.disabled,"disabled-hint":l.t("inputs.search_disabled")},null,8,["modelValue","label","error","disabled","disabled-hint"])],2),s("div",{class:g(l.classform.group_item),style:{"flex-basis":"250px"}},[u(b,{modelValue:l.search_name,"onUpdate:modelValue":t[1]||(t[1]=a=>l.search_name=a),label:l.t("inputs.filter_name")},null,8,["modelValue","label"]),u(b,{modelValue:l.search_lyric,"onUpdate:modelValue":t[2]||(t[2]=a=>l.search_lyric=a),label:l.t("inputs.filter_lyric")},null,8,["modelValue","label"]),u(b,{modelValue:l.search_album,"onUpdate:modelValue":t[3]||(t[3]=a=>l.search_album=a),label:l.t("inputs.filter_album")},null,8,["modelValue","label"])],2),u(Z,{vertical:""}),s("div",{class:g(l.classform.group_item),style:{"flex-basis":"200px"}},[s("div",null,[u(b,{switch:"",modelValue:l.filter_instrumental_music,"onUpdate:modelValue":t[4]||(t[4]=a=>l.filter_instrumental_music=a),label:l.t("inputs.filter_instrumental")},null,8,["modelValue","label"])])],2)],2)]),footer:c(()=>[s("div",Ue,[u(S,{modelValue:e.letter,"onUpdate:modelValue":t[6]||(t[6]=a=>e.letter=a)},null,8,["modelValue"]),s("div",Le,[s("small",null,i(l.t("data.records"))+": "+i(e.data.filter_count),1)])])]),default:c(()=>[u(w,{modelValue:e.data,"onUpdate:modelValue":t[5]||(t[5]=a=>e.data=a),search:e.search,letter:e.letter,searchable_fields:{name:l.search_name,lyric:l.search_lyric,albums_names:l.search_album},filter:{has_instrumental_music:l.filter_instrumental_music},scroll:e.scroll,has_scroll:e.has_scroll,sort_by:"name",file:`${e.$i18n.locale}_musics`},{default:c(()=>[s("thead",null,[s("tr",null,[s("th",ve,i(l.t("table.music_name")),1),l.compact?k("",!0):(r(),_("th",ge,i(l.t("table.album_name")),1)),s("th",ke,i(l.t("table.duration")),1),t[10]||(t[10]=s("th",null,null,-1))])]),s("tbody",null,[(r(!0),_(C,null,x(e.data.data,a=>(r(),_("tr",{key:a.id_music},[s("td",null,[v(i(a.name)+" ",1),l.compact?(r(),_("div",Ce,[(r(!0),_(C,null,x(a.albums,h=>(r(),f(I,{key:h.id_album,color:e.$theme.primary(),size:"x-small",onClick:y=>l.openAlbum(h.id_album)},{default:c(()=>[v(i(h.name),1)]),_:2},1032,["color","onClick"]))),128))])):k("",!0)]),l.compact?k("",!0):(r(),_("td",xe,[(r(!0),_(C,null,x(a.albums,h=>(r(),f(I,{key:h.id_album,color:e.$theme.primary(),density:"compact",onClick:y=>l.openAlbum(h.id_album)},{default:c(()=>[v(i(h.name),1)]),_:2},1032,["color","onClick"]))),128))])),s("td",we,i(e.$datetime.shortTime(a.duration)),1),s("td",null,[s("div",Se,[u(V,{id_music:a.id_music,has_instrumental_music:a.has_instrumental_music},null,8,["id_music","has_instrumental_music"])])])]))),128))])]),_:1},8,["modelValue","search","letter","searchable_fields","filter","scroll","has_scroll","file"]),e.search&&e.data.filter_count<=0?(r(),f(oe,{key:0,type:"error",text:l.t("data.not_found"),variant:"tonal",border:"start",class:"ma-2"},null,8,["text"])):k("",!0)]),_:1},8,["modelValue","title","icon","onScroll","onHasScroll","index"])}const Ee=L(ye,[["render",Pe]]);export{Ee as default};
